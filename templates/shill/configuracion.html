<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Configuración de SHILL</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 py-8">
  <div class="max-w-xl mx-auto bg-white shadow p-6 rounded-md">
    <h2 class="text-2xl font-semibold mb-4 text-center">⚙️ Configuración de SHILL</h2>
    <form method="post" class="space-y-6">

      <div>
        <label class="block mb-1 font-medium">Delay entre mensajes (segundos):</label>

<div class="mt-6 border-t border-gray-300 pt-4">
  <h3 class="text-lg font-semibold mb-3">⏱️ Tiempo total y rango de espera</h3>

  <div class="mb-4">
    <label class="block text-sm mb-1">Duración total para enviar los mensajes (horas):</label>
    <select name="duracion_total" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm">
      {% for h in range(1, 7) %}
      <option value="{{ h }}" {% if duracion_total == h %}selected{% endif %}>{{ h }} hora{{ 's' if h > 1 else '' }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="mb-4">
    <label class="block text-sm mb-1">Delay mínimo entre mensajes (segundos):</label>
    <input type="range" name="delay_min" min="5" max="600" value="{{ delay_min }}" class="w-full" oninput="document.getElementById('valor_delay_min').innerText = this.value">
    <div class="text-sm text-right text-gray-600">Valor: <span id="valor_delay_min">{{ delay_min }}</span> s</div>
  </div>

  <div>
    <label class="block text-sm mb-1">Delay máximo entre mensajes (segundos):</label>
    <input type="range" name="delay_max" min="10" max="1200" value="{{ delay_max }}" class="w-full" oninput="document.getElementById('valor_delay_max').innerText = this.value">
    <div class="text-sm text-right text-gray-600">Valor: <span id="valor_delay_max">{{ delay_max }}</span> s</div>
  </div>
</div>


      <div>
        <label class="block mb-1 font-medium">¿Mezclar el orden de los mensajes?</label>
        <select name="shuffle" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm">
          <option value="true" {% if shuffle %}selected{% endif %}>Sí</option>
          <option value="false" {% if not shuffle %}selected{% endif %}>No</option>
        </select>
      </div>

      <div class="border-t border-gray-300 pt-4">
        <h3 class="text-lg font-semibold mb-4">🎭 Funciones de Realismo</h3>

        <label class="flex justify-between items-center mb-3">
          <span>Simular typing</span>
          <input type="checkbox" name="typing" class="form-checkbox h-5 w-5 text-blue-600" {% if realismo.typing %}checked{% endif %}>
        </label>

        <label class="flex justify-between items-center mb-3">
          <span>Responder mensajes anteriores</span>
          <input type="checkbox" name="responder" class="form-checkbox h-5 w-5 text-blue-600" {% if realismo.responder %}checked{% endif %}>
        </label>

        <label class="flex justify-between items-center mb-3">
          <span>Editar mensajes</span>
          <input type="checkbox" name="editar" class="form-checkbox h-5 w-5 text-blue-600" {% if realismo.editar %}checked{% endif %}>
        </label>

        <div class="mt-2 mb-4">
          <label class="block text-sm mb-1">Probabilidad de edición (%):</label>
<div class="text-sm text-right text-gray-600">Valor: <span id="valor_edicion">{{ editar_prob }}</span>%</div>
          <input type="range" name="editar_prob" min="0" max="100" value="{{ editar_prob }}" class="w-full" oninput="document.getElementById('valor_edicion').innerText = this.value">
        </div>

        <label class="flex justify-between items-center mb-3">
          <span>Reaccionar a mensajes</span>
          <input type="checkbox" name="reaccionar" class="form-checkbox h-5 w-5 text-blue-600" {% if realismo.reaccionar %}checked{% endif %}>
        </label>

        <div class="mt-2">
          <label class="block text-sm mb-1">Probabilidad de reacción (%):</label>
<div class="text-sm text-right text-gray-600">Valor: <span id="valor_reaccion">{{ reaccionar_prob }}</span>%</div>
          <input type="range" name="reaccionar_prob" min="0" max="100" value="{{ reaccionar_prob }}" class="w-full" oninput="document.getElementById('valor_reaccion').innerText = this.value">
        </div>
      </div>

      <div class="flex justify-between items-center pt-4 border-t border-gray-200">
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Guardar Configuración</button>
        <a href="/admin/sesiones" class="text-sm text-gray-600 hover:underline">🔧 Administrar Sesiones</a>
      </div>

      <div class="pt-2 text-center">
        <a href="/shill" class="text-sm text-blue-600 hover:underline">⬅️ Volver al apartado SHILL</a>
      </div>
    </form>
  </div>
</body>
</html>